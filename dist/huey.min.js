!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.huey=n()}}(function(){return function n(t,r,e){function o(a,u){if(!r[a]){if(!t[a]){var f="function"==typeof require&&require;if(!u&&f)return f(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(n){var r=t[a][1][n];return o(r?r:n)},l,l.exports,n,t,r,e)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<e.length;a++)o(e[a]);return o}({1:[function(n,t){var r=n("./lib/each");t.exports=function(n){var t,e={},o=0;r(n,function(n){n=n.join(","),e[n]=e.hasOwnProperty(n)?++e[n]:1});for(rgb in e)e[rgb]<o||(o=e[rgb],t=rgb);return t?t.split(",").map(function(n){return parseInt(n,10)}):null}},{"./lib/each":5}],2:[function(n,t){t.exports=n("./lib/dominant.compat"),t.exports.palette=n("./lib/palette.compat")},{"./lib/dominant.compat":4,"./lib/palette.compat":7}],3:[function(n,t){var r=n("get-image-data"),e=n("./validate"),o=n("./type-check");t.exports=function(n){return function(t,i,a){o(i,"function")&&(a=i,i=null);var u=e(t,a);if(u){if(!a)throw u;return setTimeout(a,0,u)}r(t,function(t,r){if(t)return a(t);var e=n(r.data,i);a(null,e,r)})}}},{"./type-check":8,"./validate":9,"get-image-data":10}],4:[function(n,t){var r=n("./backwards-compatibility");t.exports=r(n("../dominant"))},{"../dominant":1,"./backwards-compatibility":3}],5:[function(n,t){t.exports=function(n,t){for(var r,e,o,i=n.length,a=1e4>i?24:1e5>i?56:1e6>i?512:1e7>i?768:1e8>i?10240:12288,u=0;i>u;u+=a)r=[n[u],n[u+1],n[u+2]],e=Math.min(r[0],Math.min(r[1],r[2])),o=Math.max(r[0],Math.max(r[1],r[2])),24>o-e||t(r)}},{}],6:[function(n,t){t.exports=function(n){function t(n,t){return n.c()-t.c()}function r(n,t){return n.c()*n.v()-t.c()*t.v()}function e(n){var t=[],r=0;return{u:function(n){t.push(n),r=0},o:function(){return r||(t.sort(n),r=1),t.pop()},s:function(){return t.length},m:function(n){return t.map(n)}}}function o(n,t,r,e,o,i,a){var u=this;u.r1=n,u.r2=t,u.g1=r,u.g2=e,u.b1=o,u.b2=i,u.h=a}function i(n,t){for(var r,e,i,a,l,s,p,d,h,g,m,b,v,w,x,y,k,q,C,M,E,O,I,N,A,D,P,V,j,S,T,U=1,_=0;1e3>_;)if(w=n.o(),w.c()){if(x=w.r1,y=w.r2,k=w.g1,q=w.g2,C=w.b1,M=w.b2,e=1+y-x,i=1+q-k,a=1+M-C,l=c.call(0,e,i,a),b=0,g=[],m=[],l==e)for(S=x,T=y,h="r",O=y+1,I=q+1,N=M+1,s=x;O>s;s++){for(v=0,p=k;I>p;p++)for(d=C;N>d;d++)v+=u[1024*s+32*p+d]||0;b+=v,g[s]=b}else if(l==i)for(S=k,T=q,h="g",O=q+1,I=y+1,N=M+1,s=k;O>s;s++){for(v=0,p=x;I>p;p++)for(d=C;N>d;d++)v+=u[32*s+1024*p+d]||0;b+=v,g[s]=b}else for(S=C,T=M,h="b",O=M+1,I=y+1,N=q+1,s=C;O>s;s++){for(v=0,p=x;I>p;p++)for(d=k;N>d;d++)v+=u[1024*p+32*d+s]||0;b+=v,g[s]=b}for(b/=2,E=g.length;E--;)g[E]&&(m[E]=b-g[E]);for(s=S;T>=s;s++)if(g[s]>b){for(A=s-S,D=T-s,j=A>D?c(S,~~(s-1-A/2)):f(T-1,~~(s+D/2));!g[j];)j++;for(r=m[j];!r&&g[j-1];)r=m[--j];P=new o(x,y,k,q,C,M,w.h),P[h+"2"]=j,V=new o(x,y,k,q,C,M,w.h),V[h+"1"]=j+1;break}if(n.u(P),V&&(n.u(V),U++),U>=t||_++>1e3)return}else n.u(w),_++}function a(n,a){u=[];for(var f,c,l,s,p,d=new e(r),h=32,g=0,m=32,b=0,v=32,w=0,x=new e(t),y=new e(r),k=n.length;k;)c=n[--k],l=c[0]>>3,s=c[1]>>3,p=c[2]>>3,h>l?h=l:l>g&&(g=l),m>s?m=s:s>b&&(b=s),v>p?v=p:p>w&&(w=p),f=1024*l+32*s+p,u[f]=(u[f]||0)+1;for(x.u(new o(h,g,m,b,v,w,u)),i(x,.75*a);x.s();)y.u(x.o());for(i(y,a-y.s());y.s();)d.u(y.o());return d.m(function(n){return n.a()})}var u,f=n.min,c=n.max;return o.prototype={v:function(){var n=this;return n.V||(n.V=(n.r2-n.r1+1)*(n.g2-n.g1+1)*(n.b2-n.b1+1)),n.V},c:function(){var n=this;if(!n.S){for(var t,r,e,o,i=n.h,a=0,u=n.r1-1,f=n.r2+1;++u<f;)for(t=n.g1-1,r=n.g2+1;++t<r;)for(e=n.b1-1,o=n.b2+1;++e<o;)a+=i[1024*u+32*t+e]||0;n.C=a,n.S=1}return n.C},a:function(){var n=this,t=n.h;if(!n.A){for(var r,e,o,i,a,u=0,f=0,c=0,l=0,s=n.r1-1,p=n.r2+1;++s<p;)for(e=n.g1-1,o=n.g2+1;++e<o;)for(i=n.b1-1,a=n.b2+1;++i<a;)r=t[1024*s+32*e+i],r&&(u+=r,f+=r*(.5+s),c+=r*(.5+e),l+=r*(.5+i));n.A=u?[~~(8*f/u),~~(8*c/u),~~(8*l/u)]:[~~(4*(1+n.r1+n.r2)),~~(4*(1+n.g1+n.g2)),~~(4*(1+n.b1+n.b2))]}return n.A}},a}(Math)},{}],7:[function(n,t){var r=n("./backwards-compatibility");t.exports=r(n("../palette"))},{"../palette":13,"./backwards-compatibility":3}],8:[function(n,t){t.exports=function(n,t){return n&&typeof n===t}},{}],9:[function(n,t){var r=n("./type-check");t.exports=function(n,t){var e=r(n,"undefined")?"Please provide an image path.":r(t,"function")?null:"Please provide a callback function.";return e?new Error(e):!1}},{"./type-check":8}],10:[function(n,t){var r=n("get-image"),e=n("./shared"),o=null,i=function(n){return o=n.createElement("canvas"),!(!o.getContext||!o.getContext("2d"))}(document);t.exports=function(n,t){return i?void r(n,function(n,r){n?t(n):t(null,e(o)(r))}):t(new Error("Your browser doesnâ€™t the <canvas> element"))}},{"./shared":12,"get-image":11}],11:[function(n,t){t.exports=function(n,t){var r=new Image;/^data/.test(n)||(r.crossOrigin=!0),r.src=n,r.onerror=t,r.onload=function(){t(null,r)}}},{}],12:[function(n,t){t.exports=function(n){return function(t){var r=n.getContext("2d");return n.width=t.width,n.height=t.height,r.drawImage(t,0,0),r.getImageData(0,0,t.width,t.height)}}},{}],13:[function(n,t){var r=n("./lib/each"),e=n("./lib/mmcq");t.exports=function(n,t){t=isNaN(t)?5:t;var o=[];return r(n,function(n){o.push(n)}),e(o,255!==t?t+1:t).slice(0,t)}},{"./lib/each":5,"./lib/mmcq":6}]},{},[2])(2)});